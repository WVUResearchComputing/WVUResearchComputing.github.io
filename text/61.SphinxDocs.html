

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Documentation on Sphinx &mdash; WVU-RC 1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Domain Specific Details" href="70.DomainSpecific.html" />
    <link rel="prev" title="For Administrators" href="60.Administrators.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> WVU-RC
          

          
            
            <img src="../_static/ResearchComputing.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="10.Introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="20.QuickStart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="30.BasicUser.html">For Basic Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="40.AdvancedUser.html">For Advanced Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="50.Developers.html">For Developers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="60.Administrators.html">For Administrators</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Documentation on Sphinx</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-github-repository">The Github Repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting-the-singularity-image">Getting the singularity image</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting-a-shell-inside-the-container">Getting a shell inside the container</a></li>
<li class="toctree-l3"><a class="reference internal" href="#downloading-the-sphinx-and-master-branches">Downloading the ‘sphinx’ and ‘master’ branches</a></li>
<li class="toctree-l3"><a class="reference internal" href="#editing-the-sources">Editing the sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-add-commit-and-push">Build, add, commit, and push</a></li>
<li class="toctree-l3"><a class="reference internal" href="#downloading-the-documentation-manually">Downloading the documentation (manually)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="70.DomainSpecific.html">Domain Specific Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="80.ClusterSpecific.html">Clusters Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="90.References.html">References</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">WVU-RC</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="60.Administrators.html">For Administrators</a> &raquo;</li>
        
      <li>Documentation on Sphinx</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/text/61.SphinxDocs.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="documentation-on-sphinx">
<h1>Documentation on Sphinx<a class="headerlink" href="#documentation-on-sphinx" title="Permalink to this headline">¶</a></h1>
<p>The website for documentation about High-Performance Computing at West Virginia
University is hosted on github and created using Sphinx.</p>
<p>In practice that means that both sources and HTML files are version controlled
using git and stored on Github and editing the webpages implies knowing a bit
how sphinx manages the creation of HTML pages and editing files in rst format.</p>
<p>This tutorial covers the basics for learning how to download the sources,
introducing changes and uploading the resulting sources and HTML files.</p>
<p>We have simplified the process by using a singularity image that provides all
the functionalities needed with a simple command line.</p>
<p>On this tutorial we will follow this path. First knowing how to access github
and how to ad</p>
<div class="section" id="the-github-repository">
<h2>The Github Repository<a class="headerlink" href="#the-github-repository" title="Permalink to this headline">¶</a></h2>
<p>The github repository was created at:
<a class="reference external" href="_github_repo_">https://github.com/WVUResearchComputing/WVUResearchComputing.github.io</a>.</p>
<p>The actual documentation can be seen at
<a class="reference external" href="https://docs.hpc.wvu.edu">https://docs.hpc.wvu.edu</a></p>
</div>
<div class="section" id="getting-the-singularity-image">
<h2>Getting the singularity image<a class="headerlink" href="#getting-the-singularity-image" title="Permalink to this headline">¶</a></h2>
<p>We have created a singularity image for managing the process of downloading,
editing and uploading sources and HTML files as easy as possible.</p>
<p>The singularity image is called <code class="docutils literal"><span class="pre">docs_hpc_wvu.simg</span></code> and it is stored in HPC
storage, ask administrators for actual location.</p>
<p>Once you have the singularity image, be sure that you have singularity installed
on your computer. The procedure to compile singularity is very simple.</p>
<p>See <a class="reference external" href="https://singularity.lbl.gov/install-linux">Singularity docs</a> for
instructions on how to install singularity.</p>
</div>
<div class="section" id="getting-a-shell-inside-the-container">
<h2>Getting a shell inside the container<a class="headerlink" href="#getting-a-shell-inside-the-container" title="Permalink to this headline">¶</a></h2>
<p>The singularity image provides a complete environment for working with the
sources, otherwise you need to install a recent version of sphinx a fairly
complete Latex environment and a few extra utilities to build the sources and
commit them to github, the image give you all that in a single file</p>
<p>Get a shell inside the container with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">singularity</span> <span class="n">shell</span> <span class="n">docs_hpc_wvu</span><span class="o">.</span><span class="n">simg</span>
</pre></div>
</div>
</div>
<div class="section" id="downloading-the-sphinx-and-master-branches">
<h2>Downloading the ‘sphinx’ and ‘master’ branches<a class="headerlink" href="#downloading-the-sphinx-and-master-branches" title="Permalink to this headline">¶</a></h2>
<p>Once you are inside the container shell. Execute this command to download the
branches</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">docs_hpc_wvu</span> <span class="o">-</span><span class="n">b</span> <span class="n">DOCS</span> <span class="n">download</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">DOCS</span></code> is the folder where the branches will be created, you can change
the name of that folder but use it for any interaction with the script</p>
</div>
<div class="section" id="editing-the-sources">
<h2>Editing the sources<a class="headerlink" href="#editing-the-sources" title="Permalink to this headline">¶</a></h2>
<p>The singularity image includes atom as an editor, otherwise use your editor
of choice inside or outside the container. If you want to use atom use:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">docs_hpc_wvu</span> <span class="o">-</span><span class="n">b</span> <span class="n">DOCS</span> <span class="n">edit</span>
</pre></div>
</div>
<p>Editing the documentation involves introducing changes to the rst files, adding,
deleting or reordering as needed.</p>
</div>
<div class="section" id="build-add-commit-and-push">
<h2>Build, add, commit, and push<a class="headerlink" href="#build-add-commit-and-push" title="Permalink to this headline">¶</a></h2>
<p>There are several actions that trigger git commands. build compile the sources
with sphinx, add stash the files in git, commit will include them in version
control and push will send both sources and HTML files back to github.</p>
<p>A simplified command will do all those things in a single command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">docs_hpc_wvu</span> <span class="o">-</span><span class="n">b</span> <span class="n">DOCS</span> <span class="n">bacp</span>
</pre></div>
</div>
</div>
<div class="section" id="downloading-the-documentation-manually">
<h2>Downloading the documentation (manually)<a class="headerlink" href="#downloading-the-documentation-manually" title="Permalink to this headline">¶</a></h2>
<p>These are the steps to create a working environment for introducing changes to
the documentation. These lines are not needed if you are following the automated
procedure using singularity image and the script that facilitates the edition.
Create one folder for both “sphinx” and “master” branches:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>mkdir DOCS
cd DOCS
REPO=&quot;https://github.com/WVUResearchComputing/WVUResearchComputing.github.io.git&quot;
ORIGIN=&quot;git@github.com:WVUResearchComputing/WVUResearchComputing.github.io.git&quot;
git clone --single-branch -b sphinx ${REPO} sphinx
git clone --single-branch -b master ${REPO} master
cd sphinx
git remote set-url origin ${ORIGIN}
cd ../master
git remote set-url origin ${ORIGIN}
cd ..
</pre></div>
</div>
<p>After this commands, the DOCS folder will contain two subfolders, “sphinx” and “master”.
The branch “sphinx” has the sources and “master” the generated web pages.</p>
<p>Editing the documentation is basically adding or modifying the “.rst” files in the subfolder “texts”.
To compile the documentation enter into the “sphinx” folder and execute:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">html</span>
<span class="n">make</span> <span class="n">latexpdf</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="70.DomainSpecific.html" class="btn btn-neutral float-right" title="Domain Specific Details" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="60.Administrators.html" class="btn btn-neutral" title="For Administrators" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, West Virginia University

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'1.0',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>