.. _qs-file-transfer:

File Transfer (Globus)
======================

Using Globus Online
-------------------

Copying files and folders in and out an HPC cluster is a routine task for HPC users. Users need to move input data to the cluster before this data can be processed. The results will be moved out of the cluster in form of files and folders containing text, figures, tables or some other data. The amount of data could be as small as a simple text file with a few lines or as big as a large binary file or several folders summing Giga Bytes of data. 

There are several ways of moving data in and out our HPC clusters.
In this section we will focus on the simplest, most effective way of moving data from/to the clusters regardless of size or number of items to be transferred.

Globus Online is the preferred method for transferring files to, from, and between HPC clusters.  
There are several advantages for using Globus compared to other methods that will be covered on :ref:`File Transfer Section <bs-file-transfer>`:
We can summarize the advantages as:

* ° Globus works from a web browser, not need to learn commands for a terminal.
* ° Transfers are done in the background so users do not need to keep the browser open. The tranfer happens behind curtains.
* ° Auto performance tuning to ensure the data is transferred as quickly as possible. One can expect a speedup of at least 2x over traditional transfer methods.
* ° Transfers can work in parallel, data could be encryted during transfer.
* ° The integrity of the tranfer can be ensured via checksum methods (Hashes).
* ° Transfers are automatically restarted after a failed or stopped connection.
* ° Ability to only transfer files that have yet to be transferred (similar to rsync).

In addition to all this advantages, WVU is also a `Globus Subscriber <https://www.globus.org/subscriptions>`__ which provides additional services over the basic/free subscription. WVU's Globus Subscription adds the following features:

#.  Ability to archive/transfer data with unlimited storage to user's `Google Drive MIX Account <https://wvu.atlassian.net/servicedesk/customer/portal/5/article/299335692?src=-555450868>`__.
#.  Sharing of data with others inside and outside the university.
#.  Sharing of data from personal workstations via `Globus Connect Personal <https://www.globus.org/globus-connect-personal>`__.

Understanding Globus
--------------------

Globus works by properly connecting data storage locations such as your data on one of our HPC clusters with some other data storage locations.
Those storage locations are called "endpoints"
Your own computer could be also an "endpoint". To become an endpoint your computer needs to run an small application called "Globus Connect Personal".
This is the software that will run behind curtains and execute the transfer tasks between your computer and a remote endpoint such as the HPC cluster.

Once a storage defined as an endpoint, it will be available for authorized users to transfer files to or from this endpoint. You can install multiple personal endpoints on several of your computers and transfer from the HPC cluster to your desktop computer initiating the transfer from your laptop.

The following instructions will take step by step into the process of connecting your HPC account with Globus and installing the personal endpoint on your computer.

Connecting to the Globus Web App
--------------------------------

.. image:: /_static/Globus-intro1.jpg
  :width: 600
  :alt: Globus Introduction (figure 1)

.. image:: /_static/Globus-intro2.jpg
  :width: 600
  :alt: Globus Introduction (figure 2)

.. image:: /_static/Globus-intro3.jpg
  :width: 600
  :alt: Globus Introduction (figure 3)

.. image:: /_static/Globus-intro4.jpg
  :width: 600
  :alt: Globus Introduction (figure 4)

.. image:: /_static/Globus-intro5.jpg
  :width: 600
  :alt: Globus Introduction (figure 5)

.. image:: /_static/Globus-intro6.jpg
  :width: 600
  :alt: Globus Introduction (figure 6)

.. image:: /_static/Globus-intro7.jpg
  :width: 600
  :alt: Globus Introduction (figure 7)

.. image:: /_static/Globus-intro8.jpg
  :width: 600
  :alt: Globus Introduction (figure 8)

.. image:: /_static/Globus-intro9.jpg
  :width: 600
  :alt: Globus Introduction (figure 9)



**Review** https://www.globus.org/researchers/getting-started for a step by step guide on use Globus Online.

For more details, including writen instructions, please visit this `page <https://docs.hpc.wvu.edu/text/33.GlobusOnline.html>`__

Note: For a video on how to utilize Globus Online with Google Drive, please see https://www.youtube.com/watch?v=tDdVsNVK3ko&feature=youtu.be.


