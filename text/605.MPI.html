

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Message Passing Interface &mdash; WVU-RC 2022.12.16 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="HDF5 and NetCDF" href="606.HDF5_NetCDF.html" />
    <link rel="prev" title="Boost 1.79" href="604.Boost.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> WVU-RC
          

          
            
            <img src="../_static/ResearchComputing.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2022.12
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="10.Introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="20.QuickStart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="30.BasicUsage.html">Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="40.AdvancedUsage.html">Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="500.ScientificProgramming.html">Scientific Programming</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="600.SoftAdmin.html">Software Administration</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="601.SphinxDocs.html">Editing these documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="602.UserInstallation.html">Installing Packages in User Locations</a></li>
<li class="toctree-l2"><a class="reference internal" href="603.LinearAlgebra.html">Linear Algebra</a></li>
<li class="toctree-l2"><a class="reference internal" href="604.Boost.html">Boost 1.79</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Message Passing Interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mpi-standards">MPI Standards</a></li>
<li class="toctree-l3"><a class="reference internal" href="#useful-books">Useful Books</a></li>
<li class="toctree-l3"><a class="reference internal" href="#libraries">Libraries</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="606.HDF5_NetCDF.html">HDF5 and NetCDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="607.FFT.html">Fast Fourier Transforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="608.ForceFields.html">Force Field Molecular Dynamics</a></li>
<li class="toctree-l2"><a class="reference internal" href="609.CHARM%2B%2B_NAMD.html">CHARM++ and NAMD</a></li>
<li class="toctree-l2"><a class="reference internal" href="610.DFT.html">Density Functional Theory</a></li>
<li class="toctree-l2"><a class="reference internal" href="611.BigData.html">Big Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="612.Python.html">Python 3.9.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="613.Matlab_MMX.html">Matlab N-D multithreaded matrix operations (MMX)</a></li>
<li class="toctree-l2"><a class="reference internal" href="614.Julia.html">Building Julia</a></li>
<li class="toctree-l2"><a class="reference internal" href="615.Tinker9.html">Tinker9</a></li>
<li class="toctree-l2"><a class="reference internal" href="616.Cuda.html">Cuda</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="70.DomainSpecific.html">Domain Specific Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="80.ClusterSpecific.html">Clusters Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="90.References.html">References</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">WVU-RC</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="600.SoftAdmin.html">Software Administration</a> &raquo;</li>
        
      <li>Message Passing Interface</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/text/605.MPI.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="message-passing-interface">
<h1>Message Passing Interface<a class="headerlink" href="#message-passing-interface" title="Permalink to this headline">¶</a></h1>
<p>Many parallel programs take advantage of Message Passing Interface (MPI)
to communicate across compute nodes and efficiently scale up
computational analysis. While we can’t give instructions on how to run
every program using MPI, all the programs using MPI need to be told
which hosts and cpus to run. Generally, most programs use the mpirun
executable that comes pre-packaged with MPI libraries to accomplish this
task. The general syntax for running parallel programs with mpirun is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mpirun</span> <span class="o">-</span><span class="n">np</span> <span class="o">&lt;</span><span class="n">processor</span> <span class="n">number</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">machinefile</span> <span class="o">&lt;</span><span class="n">procs</span> <span class="n">file</span><span class="o">&gt;</span> <span class="n">command</span> <span class="p">[</span><span class="o">..</span><span class="n">args</span><span class="p">]</span>
</pre></div>
</div>
<p>With -np option specifying the number of processors the job requires,
and the -machinefile option with a file that contains the host address
and number of CPUs to use on each host. On a distributed computing
cluster with a scheduler in place (both RC clusters), the number of
processors will be the same number of processors requested with the
<a class="reference external" href="Running_Jobs">qsub command</a>. Further, it is almost impossible to
know which hosts your job will run on, since that is determined by a
number of factors with the current state of the system. Therefore
Moab/Torque provides a machinefile for each job that is executed through
the scheduler, and it’s location is stored in the $PBS_NODEFILE
variable. Therefore, on our clusters, the general syntax of running a
program parallel with MPI is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>module load &lt;mpi/modulefile&gt;

mpirun -np &lt;processor number&gt; -machinefile $PBS_NODEFILE command [..args]
</pre></div>
</div>
<p>with being the appropriate <a class="reference external" href="Using_Modulefiles">module file</a> for the
MPI package the program was compiled with. Of course, you should consult
the programs documentation for details, as some programs come with their
own mpirun substitute and/or work better with certain MPI libraries than
others. Also, each MPI libraries have differences with their mpirun
commands, and therefore you should take a look at the MPI’s own
documentation (links below).</p>
<section id="mpi-standards">
<h2>MPI Standards<a class="headerlink" href="#mpi-standards" title="Permalink to this headline">¶</a></h2>
<p>Message Passing Interface standards are available free for download at
<a class="reference external" href="https://www.mpi-forum.org/docs/">MPI Forum</a>.</p>
</section>
<section id="useful-books">
<h2>Useful Books<a class="headerlink" href="#useful-books" title="Permalink to this headline">¶</a></h2>
<p>Parallel Programming with MPI. Peter Pecheco. ISBN-13:978-1558603394</p>
<p>Parallel Programming in C with MPI and OpenMP. Michael Quinn.
ISBN-13:978-0072822564</p>
<p>MPI: The Complete Reference. Snir et al. ISBN-13:978-0262692168</p>
</section>
<section id="libraries">
<h2>Libraries<a class="headerlink" href="#libraries" title="Permalink to this headline">¶</a></h2>
<p>Current information about location and version of library can be found
in their respective <a class="reference external" href="Using_Modulefiles">modulefiles</a>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 84%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Library</strong></p></td>
<td><p><strong>Documentation</strong></p></td>
</tr>
<tr class="row-even"><td><p>Intel</p></td>
<td><p><a class="reference external" href="https://software.intel.com/en-us/mpi-library/documentation/get-started">https://software.intel.com/en-us/mpi-library/documentation/get-started</a></p></td>
</tr>
<tr class="row-odd"><td><p>Mpich2</p></td>
<td><p><a class="reference external" href="http://www.mpich.org/documentation/guides/">http://www.mpich.org/documentation/guides/</a></p></td>
</tr>
<tr class="row-even"><td><p>Mvapich2</p></td>
<td><p><a class="reference external" href="http://mvapich.cse.ohio-state.edu/support/">http://mvapich.cse.ohio-state.edu/support/</a></p></td>
</tr>
<tr class="row-odd"><td><p>OpenMPI</p></td>
<td><p><a class="reference external" href="http://www.open-mpi.org/doc/">http://www.open-mpi.org/doc/</a></p></td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="606.HDF5_NetCDF.html" class="btn btn-neutral float-right" title="HDF5 and NetCDF" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="604.Boost.html" class="btn btn-neutral float-left" title="Boost 1.79" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2022, West Virginia University

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>