

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Understanding Cluster Storage &mdash; WVU-RC 1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Using Environment Modules" href="26.UseModules.html" />
    <link rel="prev" title="Editing Files" href="24.EditFiles.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> WVU-RC
          

          
            
            <img src="../_static/ResearchComputing.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="10.Introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="20.QuickStart.html">Quick Start</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="21.GettingAccess.html">Getting Access</a></li>
<li class="toctree-l2"><a class="reference internal" href="22.Connect.html">Connect to the cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="23.CommandLine.html">Command Line Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="24.EditFiles.html">Editing Files</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Understanding Cluster Storage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#home-directory">Home Directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scratch-directory">Scratch Directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="#persistent-group-storage">Persistent Group Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#archival-storage">Archival Storage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="26.UseModules.html">Using Environment Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="27.CompileCode.html">Compile Source Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="28.SubmitJobs.html">Job Submission</a></li>
<li class="toctree-l2"><a class="reference internal" href="29.TransferFiles.html">Transferring Files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="30.BasicUser.html">For Basic Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="40.AdvancedUser.html">For Advanced Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="50.ProgrammingLanguages.html">Programming Languages</a></li>
<li class="toctree-l1"><a class="reference internal" href="600.SoftAdmin.html">Software Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="70.DomainSpecific.html">Domain Specific Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="80.ClusterSpecific.html">Clusters Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="90.References.html">References</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">WVU-RC</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="20.QuickStart.html">Quick Start</a> &raquo;</li>
        
      <li>Understanding Cluster Storage</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/text/25.UseStorage.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="understanding-cluster-storage">
<span id="qs-storage"></span><h1>Understanding Cluster Storage<a class="headerlink" href="#understanding-cluster-storage" title="Permalink to this headline">¶</a></h1>
<p>On a desktop machine, you normally own the whole hard drive and you are free
to use it up to the limit of physical drive. On a share resource like a
cluster, limits need to be impose to avoid one user taking too much space or
creating too many files, that could prevent other users to store their data or
could reduce the overall performance of the drive with too many files.</p>
<p>There are two important locations from the user perspective, <code class="docutils literal notranslate"><span class="pre">$HOME</span></code> and
<code class="docutils literal notranslate"><span class="pre">$SCRATCH</span></code> those locations are sit on a high performance storage device and
uses GPFS as their file system. Those locations are also shared between all
compute nodes, so no matter on which machine you run, files on those locations
are always available. In this quick start, we will describe briefly the purpose
of each one of them.</p>
<div class="section" id="home-directory">
<h2>Home Directory<a class="headerlink" href="#home-directory" title="Permalink to this headline">¶</a></h2>
<p>Home directories on Spruce Knob and Thorny Flat are located in /users directory
and they are the default login location for users.
The default disk quota for each user is 10 GB.
As such, we recommend that home directories use should be
primarily to store scripts, binary executables and all they software machinery to do your research, in cases where data is too large, the $HOME folder should not be used for storing data as it could fill quickly.
For research data, users should use Scratch space on our clusters.</p>
<p>The good thing about <code class="docutils literal notranslate"><span class="pre">$HOME</span></code> folder, despite its limited size is that all the
data is backed up on a daily basis via snapshots and tape. Users
can retrieve up to 4 weeks of older files from
<code class="docutils literal notranslate"><span class="pre">/users/.snapshots/{date}/$USER</span></code> if needed.
If files are not available in the snapshot, please contact <a class="reference external" href="mailto:helpdesk&#37;&#52;&#48;hpc&#46;wvu&#46;edu">helpdesk<span>&#64;</span>hpc<span>&#46;</span>wvu<span>&#46;</span>edu</a> and the HPC team will attempt to retrieve the data from tape.</p>
<p>Note: Users may check their storage quota via the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">quota</span>
</pre></div>
</div>
<p>This command is actually an alias for the GPFS command to manage quotas on the filesystem, the actual command is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lpp</span><span class="o">/</span><span class="n">mmfs</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">mmlsquota</span> <span class="o">--</span><span class="n">block</span><span class="o">-</span><span class="n">size</span> <span class="n">M</span>
</pre></div>
</div>
<p>The block size can be changed to <code class="docutils literal notranslate"><span class="pre">K</span></code> for Kilo Bytes, <code class="docutils literal notranslate"><span class="pre">M</span></code> for Mega Bytes, <code class="docutils literal notranslate"><span class="pre">G</span></code> for Giga Bytes and <code class="docutils literal notranslate"><span class="pre">T</span></code> for Tera Bytes.</p>
<p>It is important to pay attention not only to the storage size but also to the limit on the number of files that can be stored. Too many files have an impact of file system performance so its number needs to be limited. It you create too many reaching the limit you cannot create more files on that file system even if your quota size still shows allowance.</p>
</div>
<div class="section" id="scratch-directory">
<h2>Scratch Directory<a class="headerlink" href="#scratch-directory" title="Permalink to this headline">¶</a></h2>
<p>Scratch directories are located in <code class="docutils literal notranslate"><span class="pre">/scratch</span></code> directory and can be easily
moved to use the <code class="docutils literal notranslate"><span class="pre">$SCRATCH</span></code> environment variable set-up by default for
each user. You can go to your scratch folder with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cd $SCRATCH
</pre></div>
</div>
<p>Scratch directories on our clusters are treated as <strong>TRUE</strong> scratch space:
There is no user-defined quota for space. All users scratch directories share the same file space, which is set at 130 TB. When the scratch directory becomes full, files can be automatically deleted by date.
To avoid loosing data, all users should use their scratch space as truly temporary storage.
However, we will notify users well in advance for schedule file deletions to give users ample time to remove data to prevent data loss.</p>
<p>It is a good idea to create a symbolic link from your $HOME folder to go directly to your $SCRATCH folder, this command will do that:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ln -s $SCRATCH $HOME/scratch
</pre></div>
</div>
<p>Next time, you can just use the symbolic link:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">scratch</span>
</pre></div>
</div>
<p><strong>Note: Scratch data is NOT backed up.</strong></p>
</div>
<div class="section" id="persistent-group-storage">
<h2>Persistent Group Storage<a class="headerlink" href="#persistent-group-storage" title="Permalink to this headline">¶</a></h2>
<p>Research groups may purchase long term persistent storage from the RC
HPC. This storage allows users to keep data on the cluster that will not
be removed. In addition, this storage utilizes the same GPFS file system
so files can be written directly to this storage from jobs executing on
the cluster.</p>
<p>Persistent storage must be purchased in 1 TB chunks. To purchase this
storage, go to <a class="reference external" href="https://helpdesk.hpc.wvu.edu">https://helpdesk.hpc.wvu.edu</a> , select “Open a New Ticket”,
and select “Research Data Depot Storage Purchase” from Help Topic. For more
information, please contact <a class="reference external" href="mailto:helpdesk&#37;&#52;&#48;hpc&#46;wvu&#46;edu">helpdesk<span>&#64;</span>hpc<span>&#46;</span>wvu<span>&#46;</span>edu</a>.</p>
<p>In the past researchers were allowed to purchase space under <code class="docutils literal notranslate"><span class="pre">/group</span></code> folder. For groups who have purchased this storage, it can be accessed here:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">group</span><span class="o">/</span><span class="p">{</span><span class="n">group_name</span><span class="p">}</span>
</pre></div>
</div>
<p><strong>Note: Persistent group storage is NOT backed up.</strong></p>
<p><strong>Note: Persistent Group storage has been replaced by the new</strong>
<a class="reference external" href="https://wvu.atlassian.net/servicedesk/customer/portal/5/article/302481476?src=955751505">Research Data Depot
Service</a></p>
</div>
<div class="section" id="archival-storage">
<h2>Archival Storage<a class="headerlink" href="#archival-storage" title="Permalink to this headline">¶</a></h2>
<p>Please see the <a class="reference external" href="https://wvu.atlassian.net/servicedesk/customer/portal/5/article/302481476?src=955751505">Research Data Depot
Service</a>
for archival storage options.</p>
<p>For additional information please contact <a class="reference external" href="mailto:helpdesk&#37;&#52;&#48;hpc&#46;wvu&#46;edu">helpdesk<span>&#64;</span>hpc<span>&#46;</span>wvu<span>&#46;</span>edu</a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="26.UseModules.html" class="btn btn-neutral float-right" title="Using Environment Modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="24.EditFiles.html" class="btn btn-neutral float-left" title="Editing Files" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, West Virginia University

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>