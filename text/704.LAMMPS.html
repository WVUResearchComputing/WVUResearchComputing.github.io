

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>LAMMPS &mdash; WVU-RC 2023.04.03 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Bioinformatics: Using Bowtie2" href="705.bowtie2.html" />
    <link rel="prev" title="Engineering: OpenFOAM 10" href="703.OpenFoam.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> WVU-RC
          

          
            
            <img src="../_static/ResearchComputing.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2023.04
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="10.Introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="20.QuickStart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="30.BasicUsage.html">Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="40.AdvancedUsage.html">Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="500.ScientificProgramming.html">Scientific Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="600.SoftAdmin.html">Software Administration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="700.DomainSpecific.html">Domain Specific Details</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="701.Ansys.html">Engineering: ANSYS Products</a></li>
<li class="toctree-l2"><a class="reference internal" href="702.ANSYSForte.html">Engineering: ANSYS/Forte</a></li>
<li class="toctree-l2"><a class="reference internal" href="703.OpenFoam.html">Engineering: OpenFOAM 10</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">LAMMPS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#creating-the-input-file">Creating the input file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#requesting-an-interactive-job">Requesting an interactive job</a></li>
<li class="toctree-l3"><a class="reference internal" href="#executing-lammps-from-a-batch-job">Executing LAMMPS from a batch job</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="705.bowtie2.html">Bioinformatics: Using Bowtie2</a></li>
<li class="toctree-l2"><a class="reference internal" href="707.Visit.html">Visualization: VisIt</a></li>
<li class="toctree-l2"><a class="reference internal" href="708.PlanetaryScience.html">Compiling Planetary Modeling Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="709.NAMD.html">NAMD</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="80.ClusterSpecific.html">Clusters Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="90.References.html">References</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">WVU-RC</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="700.DomainSpecific.html">Domain Specific Details</a> &raquo;</li>
        
      <li>LAMMPS</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/text/704.LAMMPS.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="lammps">
<h1>LAMMPS<a class="headerlink" href="#lammps" title="Permalink to this headline">¶</a></h1>
<p>Large-scale Atomic/Molecular Massively Parallel Simulator (LAMMPS) is a molecular
dynamics software code from Sandia National Laboratories.
LAMMPS makes use of hybrid parallelization techniques being able to use multicore parallelism (OpenMP),
Message Passing Interface (MPI) for distributed parallel communication and accelerators such as GPUs
The code is free and open-source software, distributed under the terms of the GNU General Public License.</p>
<p>In Molecular dynamics the forces that act over particules have a limited range.
For computing efficiency, LAMMPS uses neighbor lists (Verlet lists) to keep track of nearby particles.
The lists are optimized for systems with particles that repel at short distances,
so that the local density of particles never grows too large.</p>
<p>Another stragety for optimization in large systems is domain decomposition.
LAMMPS uses spatial-decomposition techniques to partition the simulation domain into small 3d sub-domains,
one of which is assigned to different processes.
Processes communicate and store ghost atom information for atoms that border their subdomain.
LAMMPS is most efficient (in a parallel computing sense) for systems whose particles fill a 3D rectangular
box with approximately uniform density.</p>
<p>In this tutorial we will demonstrate how to use a hybrid combination for LAMMPS.
We will combine MPI, OpenMP and GPU acceleration for a simple benchmark case.</p>
<section id="creating-the-input-file">
<h2>Creating the input file<a class="headerlink" href="#creating-the-input-file" title="Permalink to this headline">¶</a></h2>
<p>Select a good location for executing the simulation.
For example use $SCRATCH/LAMMPS:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$&gt; mkdir $SCRATCH/LAMMPS
$&gt; cd $SCRATCH/LAMMPS
</pre></div>
</div>
<p>Download the two examples from the NAMD UIUC webserver:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$&gt; wget https://lammps.sandia.gov/inputs/in.lj.txt
</pre></div>
</div>
<p>The example is very simple, alternatively you can just copy and paste the input file below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 3d Lennard-Jones melt

variable    x index 1
variable    y index 1
variable    z index 1

variable    xx equal 20*$x
variable    yy equal 20*$y
variable    zz equal 20*$z

units       lj
atom_style  atomic

lattice     fcc 0.8442
region      box block 0 ${xx} 0 ${yy} 0 ${zz}
create_box  1 box
create_atoms    1 box
mass        1 1.0

velocity    all create 1.44 87287 loop geom

pair_style  lj/cut 2.5
pair_coeff  1 1 1.0 1.0 2.5

neighbor    0.3 bin
neigh_modify    delay 0 every 20 check no

fix     1 all nve

run     100
</pre></div>
</div>
</section>
<section id="requesting-an-interactive-job">
<h2>Requesting an interactive job<a class="headerlink" href="#requesting-an-interactive-job" title="Permalink to this headline">¶</a></h2>
<p>For the purpose of this example we will use an interactive job.
Down below we will show how to achieve the same result via a batch job
We start by requesting and entire GPU compute node.
On Thorny Flat GPU nodes have 3 GPU cards and 24 CPU cores.
That is what we are requesting here for a job with a wall time of 2 hours:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$&gt; srun -p comm_gpu_inter -G 3 -t 2:00:00 -c 24 --pty bash
</pre></div>
</div>
<p>After a few seconds we are redirected to one of the GPU compute nodes.
We can check which are the GPU cards that were assigned to us with the command <cite>nvidia-smi</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>tcogq003:~/scratch/LAMMPS$ nvidia-smi
Wed May  3 18:37:41 2023
+---------------------------------------------------------------------------------------+
| NVIDIA-SMI 530.30.02              Driver Version: 530.30.02    CUDA Version: 12.1     |
|-----------------------------------------+----------------------+----------------------+
| GPU  Name                  Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf            Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|                                         |                      |               MIG M. |
|=========================================+======================+======================|
|   0  Quadro P6000                    Off| 00000000:37:00.0 Off |                  Off |
| 26%   18C    P8                8W / 250W|      0MiB / 24576MiB |      0%      Default |
|                                         |                      |                  N/A |
+-----------------------------------------+----------------------+----------------------+
|   1  Quadro P6000                    Off| 00000000:AF:00.0 Off |                  Off |
| 26%   19C    P8                8W / 250W|      0MiB / 24576MiB |      0%      Default |
|                                         |                      |                  N/A |
+-----------------------------------------+----------------------+----------------------+
|   2  Quadro P6000                    Off| 00000000:D8:00.0 Off |                  Off |
| 26%   21C    P8                8W / 250W|      0MiB / 24576MiB |      0%      Default |
|                                         |                      |                  N/A |
+-----------------------------------------+----------------------+----------------------+

+---------------------------------------------------------------------------------------+
| Processes:                                                                            |
|  GPU   GI   CI        PID   Type   Process name                            GPU Memory |
|        ID   ID                                                             Usage      |
|=======================================================================================|
|  No running processes found                                                           |
+---------------------------------------------------------------------------------------+
</pre></div>
</div>
<p>We can see 3 GPU cards. They are <strong>NVIDIA Quadro P6000</strong> which are our older cards.
It is important to verify this becase that will determine which capabilites are available on
the cards and the corresponding build of LAMMPS that we can use</p>
<p>Our next step is to load singularity as the LAMMPS we will use is an image optimized for GPUs.
Execute this command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>tcogq003:~/scratch/LAMMPS$ module load singularity
</pre></div>
</div>
<p>Now we are ready to enter into the filesystem of the container.
The container we will use is <code class="docutils literal notranslate"><span class="pre">NGC_LAMMPS_patch_3Nov2022.sif</span></code> located in <cite>/shared/containers</cite></p>
<p>Get a shell inside the cntainer with the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>tcogq003:~/scratch/LAMMPS$ singularity shell --nv /shared/containers/NGC_LAMMPS_patch_3Nov2022.sif
</pre></div>
</div>
<p>Remember to use the argument <cite>–nv</cite> to access the GPUs inside the container.
It is a good practice to double check that such is the case:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Singularity</span><span class="o">&gt;</span> <span class="n">nvidia</span><span class="o">-</span><span class="n">smi</span>
<span class="n">Wed</span> <span class="n">May</span>  <span class="mi">3</span> <span class="mi">18</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mi">19</span> <span class="mi">2023</span>
<span class="o">+---------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">NVIDIA</span><span class="o">-</span><span class="n">SMI</span> <span class="mf">530.30.02</span>              <span class="n">Driver</span> <span class="n">Version</span><span class="p">:</span> <span class="mf">530.30.02</span>    <span class="n">CUDA</span> <span class="n">Version</span><span class="p">:</span> <span class="mf">12.1</span>     <span class="o">|</span>
<span class="o">|-----------------------------------------+----------------------+----------------------+</span>
<span class="o">|</span> <span class="n">GPU</span>  <span class="n">Name</span>                  <span class="n">Persistence</span><span class="o">-</span><span class="n">M</span><span class="o">|</span> <span class="n">Bus</span><span class="o">-</span><span class="n">Id</span>        <span class="n">Disp</span><span class="o">.</span><span class="n">A</span> <span class="o">|</span> <span class="n">Volatile</span> <span class="n">Uncorr</span><span class="o">.</span> <span class="n">ECC</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Fan</span>  <span class="n">Temp</span>  <span class="n">Perf</span>            <span class="n">Pwr</span><span class="p">:</span><span class="n">Usage</span><span class="o">/</span><span class="n">Cap</span><span class="o">|</span>         <span class="n">Memory</span><span class="o">-</span><span class="n">Usage</span> <span class="o">|</span> <span class="n">GPU</span><span class="o">-</span><span class="n">Util</span>  <span class="n">Compute</span> <span class="n">M</span><span class="o">.</span> <span class="o">|</span>
<span class="o">|</span>                                         <span class="o">|</span>                      <span class="o">|</span>               <span class="n">MIG</span> <span class="n">M</span><span class="o">.</span> <span class="o">|</span>
<span class="o">|=========================================+======================+======================|</span>
<span class="o">|</span>   <span class="mi">0</span>  <span class="n">Quadro</span> <span class="n">P6000</span>                    <span class="n">Off</span><span class="o">|</span> <span class="mi">00000000</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mf">00.0</span> <span class="n">Off</span> <span class="o">|</span>                  <span class="n">Off</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">26</span><span class="o">%</span>   <span class="mi">18</span><span class="n">C</span>    <span class="n">P8</span>                <span class="mi">8</span><span class="n">W</span> <span class="o">/</span> <span class="mi">250</span><span class="n">W</span><span class="o">|</span>      <span class="mi">0</span><span class="n">MiB</span> <span class="o">/</span> <span class="mi">24576</span><span class="n">MiB</span> <span class="o">|</span>      <span class="mi">0</span><span class="o">%</span>      <span class="n">Default</span> <span class="o">|</span>
<span class="o">|</span>                                         <span class="o">|</span>                      <span class="o">|</span>                  <span class="n">N</span><span class="o">/</span><span class="n">A</span> <span class="o">|</span>
<span class="o">+-----------------------------------------+----------------------+----------------------+</span>
<span class="o">|</span>   <span class="mi">1</span>  <span class="n">Quadro</span> <span class="n">P6000</span>                    <span class="n">Off</span><span class="o">|</span> <span class="mi">00000000</span><span class="p">:</span><span class="n">AF</span><span class="p">:</span><span class="mf">00.0</span> <span class="n">Off</span> <span class="o">|</span>                  <span class="n">Off</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">26</span><span class="o">%</span>   <span class="mi">19</span><span class="n">C</span>    <span class="n">P8</span>                <span class="mi">8</span><span class="n">W</span> <span class="o">/</span> <span class="mi">250</span><span class="n">W</span><span class="o">|</span>      <span class="mi">0</span><span class="n">MiB</span> <span class="o">/</span> <span class="mi">24576</span><span class="n">MiB</span> <span class="o">|</span>      <span class="mi">0</span><span class="o">%</span>      <span class="n">Default</span> <span class="o">|</span>
<span class="o">|</span>                                         <span class="o">|</span>                      <span class="o">|</span>                  <span class="n">N</span><span class="o">/</span><span class="n">A</span> <span class="o">|</span>
<span class="o">+-----------------------------------------+----------------------+----------------------+</span>
<span class="o">|</span>   <span class="mi">2</span>  <span class="n">Quadro</span> <span class="n">P6000</span>                    <span class="n">Off</span><span class="o">|</span> <span class="mi">00000000</span><span class="p">:</span><span class="n">D8</span><span class="p">:</span><span class="mf">00.0</span> <span class="n">Off</span> <span class="o">|</span>                  <span class="n">Off</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">26</span><span class="o">%</span>   <span class="mi">21</span><span class="n">C</span>    <span class="n">P8</span>                <span class="mi">8</span><span class="n">W</span> <span class="o">/</span> <span class="mi">250</span><span class="n">W</span><span class="o">|</span>      <span class="mi">0</span><span class="n">MiB</span> <span class="o">/</span> <span class="mi">24576</span><span class="n">MiB</span> <span class="o">|</span>      <span class="mi">0</span><span class="o">%</span>      <span class="n">Default</span> <span class="o">|</span>
<span class="o">|</span>                                         <span class="o">|</span>                      <span class="o">|</span>                  <span class="n">N</span><span class="o">/</span><span class="n">A</span> <span class="o">|</span>
<span class="o">+-----------------------------------------+----------------------+----------------------+</span>

<span class="o">+---------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Processes</span><span class="p">:</span>                                                                            <span class="o">|</span>
<span class="o">|</span>  <span class="n">GPU</span>   <span class="n">GI</span>   <span class="n">CI</span>        <span class="n">PID</span>   <span class="n">Type</span>   <span class="n">Process</span> <span class="n">name</span>                            <span class="n">GPU</span> <span class="n">Memory</span> <span class="o">|</span>
<span class="o">|</span>        <span class="n">ID</span>   <span class="n">ID</span>                                                             <span class="n">Usage</span>      <span class="o">|</span>
<span class="o">|=======================================================================================|</span>
<span class="o">|</span>  <span class="n">No</span> <span class="n">running</span> <span class="n">processes</span> <span class="n">found</span>                                                           <span class="o">|</span>
<span class="o">+---------------------------------------------------------------------------------------+</span>
</pre></div>
</div>
<p>We can now prepare the variables to execute LAMMPS.</p>
<p>The first variable is export <cite>OMP_NUM_THREADS</cite>. This variable controls the number of OpenMP
threads that a process can create. We have 3 GPU cards and 24 CPU cores. As we will see in
a minute a good distribution is to assigned one GPU to one MPI process and use OpenMP to use
the extra cores via OpenMP threads.
Most of the processing is taking place on the GPU so it is not critical but a good way for
trying to maximize the use of resources.
Execute this command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">OMP_NUM_THREADS</span><span class="o">=</span><span class="mi">8</span>
</pre></div>
</div>
<p>The next command depends on the Hardware Capabilities of the GPU we are using.
The NVIDIA P6000 support software architecture (gencode) SM 6.1</p>
<p>The container offers several builds of LAMMPS:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Singularity</span><span class="o">&gt;</span> <span class="n">ls</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">lammps</span><span class="o">/</span>
<span class="n">sm60</span>  <span class="n">sm70</span>  <span class="n">sm75</span>  <span class="n">sm80</span>  <span class="n">sm86</span>  <span class="n">sm90</span>
</pre></div>
</div>
<p>The selection of which build to use must be consistent with the highest gencode supported by the hardware.</p>
<p>This table could Guide you about the selection of the appropiated gencode</p>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">Title</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 12%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Fermi</p></th>
<th class="head"><p>Kepler</p></th>
<th class="head"><p>Maxwell</p></th>
<th class="head"><p>Pascal</p></th>
<th class="head"><p>Volta</p></th>
<th class="head"><p>Turing</p></th>
<th class="head"><p>Ampere</p></th>
<th class="head"><p>Ada (Lovelace)</p></th>
<th class="head"><p>Hopper</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sm_20</p></td>
<td><p>sm_30</p></td>
<td><p>sm_50</p></td>
<td><p>sm_60</p></td>
<td><p>sm_70</p></td>
<td><p>sm_75</p></td>
<td><p>sm_80</p></td>
<td><p>sm_89</p></td>
<td><p>sm_90</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>sm_35</p></td>
<td><p>sm_52</p></td>
<td><p>sm_61</p></td>
<td><p>sm_72 (Xavier)</p></td>
<td></td>
<td><p>sm_86</p></td>
<td></td>
<td><p>sm_90a (Thor)</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>sm_37</p></td>
<td><p>sm_53</p></td>
<td><p>sm_62</p></td>
<td></td>
<td></td>
<td><p>sm_87 (Orin)</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>What matters to us is that the P6000 will not support a gencode other than sm60.
We will setup the variable <cite>LD_LIBRARY_PATH</cite> to search for the lammps variables on the right location
Execute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lammps/sm60/lib
</pre></div>
</div>
<p>We are now ready to execute LAMMPS:
The following command will ask for 3 MPI processes 3 GPU cards to run the input file above:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Singularity</span><span class="o">&gt;</span> <span class="n">mpirun</span> <span class="o">-</span><span class="n">n</span> <span class="mi">3</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">lammps</span><span class="o">/</span><span class="n">sm60</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">lmp</span>  <span class="o">-</span><span class="n">k</span> <span class="n">on</span> <span class="n">g</span> <span class="mi">3</span> <span class="o">-</span><span class="n">sf</span> <span class="n">kk</span> <span class="o">-</span><span class="n">pk</span> <span class="n">kokkos</span> <span class="n">cuda</span><span class="o">/</span><span class="n">aware</span> <span class="n">on</span> <span class="n">neigh</span> <span class="n">full</span> <span class="n">comm</span> <span class="n">device</span> <span class="n">binsize</span> <span class="mf">2.8</span> <span class="o">-</span><span class="n">var</span> <span class="n">x</span> <span class="mi">8</span> <span class="o">-</span><span class="n">var</span> <span class="n">y</span> <span class="mi">4</span> <span class="o">-</span><span class="n">var</span> <span class="n">z</span> <span class="mi">8</span> <span class="o">-</span><span class="ow">in</span> <span class="ow">in</span><span class="o">.</span><span class="n">lj</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>The code runs is just a few seconds.
The output looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LAMMPS</span> <span class="p">(</span><span class="mi">3</span> <span class="n">Nov</span> <span class="mi">2022</span><span class="p">)</span>
<span class="n">KOKKOS</span> <span class="n">mode</span> <span class="ow">is</span> <span class="n">enabled</span> <span class="p">(</span><span class="n">src</span><span class="o">/</span><span class="n">KOKKOS</span><span class="o">/</span><span class="n">kokkos</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">106</span><span class="p">)</span>
  <span class="n">will</span> <span class="n">use</span> <span class="n">up</span> <span class="n">to</span> <span class="mi">3</span> <span class="n">GPU</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">per</span> <span class="n">node</span>
<span class="n">Kokkos</span><span class="p">::</span><span class="n">Cuda</span><span class="p">::</span><span class="n">initialize</span> <span class="n">WARNING</span><span class="p">:</span> <span class="n">running</span> <span class="n">kernels</span> <span class="n">compiled</span> <span class="k">for</span> <span class="n">compute</span> <span class="n">capability</span> <span class="mf">6.0</span> <span class="n">on</span> <span class="n">device</span> <span class="k">with</span> <span class="n">compute</span> <span class="n">capability</span> <span class="mf">6.1</span> <span class="p">,</span> <span class="n">this</span> <span class="n">will</span> <span class="n">likely</span> <span class="n">reduce</span> <span class="n">potential</span> <span class="n">performance</span><span class="o">.</span>
<span class="n">Kokkos</span><span class="p">::</span><span class="n">Cuda</span><span class="p">::</span><span class="n">initialize</span> <span class="n">WARNING</span><span class="p">:</span> <span class="n">running</span> <span class="n">kernels</span> <span class="n">compiled</span> <span class="k">for</span> <span class="n">compute</span> <span class="n">capability</span> <span class="mf">6.0</span> <span class="n">on</span> <span class="n">device</span> <span class="k">with</span> <span class="n">compute</span> <span class="n">capability</span> <span class="mf">6.1</span> <span class="p">,</span> <span class="n">this</span> <span class="n">will</span> <span class="n">likely</span> <span class="n">reduce</span> <span class="n">potential</span> <span class="n">performance</span><span class="o">.</span>
  <span class="n">using</span> <span class="mi">1</span> <span class="n">OpenMP</span> <span class="n">thread</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">per</span> <span class="n">MPI</span> <span class="n">task</span>
<span class="n">Kokkos</span><span class="p">::</span><span class="n">Cuda</span><span class="p">::</span><span class="n">initialize</span> <span class="n">WARNING</span><span class="p">:</span> <span class="n">running</span> <span class="n">kernels</span> <span class="n">compiled</span> <span class="k">for</span> <span class="n">compute</span> <span class="n">capability</span> <span class="mf">6.0</span> <span class="n">on</span> <span class="n">device</span> <span class="k">with</span> <span class="n">compute</span> <span class="n">capability</span> <span class="mf">6.1</span> <span class="p">,</span> <span class="n">this</span> <span class="n">will</span> <span class="n">likely</span> <span class="n">reduce</span> <span class="n">potential</span> <span class="n">performance</span><span class="o">.</span>
<span class="n">Kokkos</span><span class="p">::</span><span class="n">Cuda</span><span class="p">::</span><span class="n">initialize</span> <span class="n">WARNING</span><span class="p">:</span> <span class="n">running</span> <span class="n">kernels</span> <span class="n">compiled</span> <span class="k">for</span> <span class="n">compute</span> <span class="n">capability</span> <span class="mf">6.0</span> <span class="n">on</span> <span class="n">device</span> <span class="k">with</span> <span class="n">compute</span> <span class="n">capability</span> <span class="mf">6.1</span> <span class="p">,</span> <span class="n">this</span> <span class="n">will</span> <span class="n">likely</span> <span class="n">reduce</span> <span class="n">potential</span> <span class="n">performance</span><span class="o">.</span>
<span class="n">Kokkos</span><span class="p">::</span><span class="n">Cuda</span><span class="p">::</span><span class="n">initialize</span> <span class="n">WARNING</span><span class="p">:</span> <span class="n">running</span> <span class="n">kernels</span> <span class="n">compiled</span> <span class="k">for</span> <span class="n">compute</span> <span class="n">capability</span> <span class="mf">6.0</span> <span class="n">on</span> <span class="n">device</span> <span class="k">with</span> <span class="n">compute</span> <span class="n">capability</span> <span class="mf">6.1</span> <span class="p">,</span> <span class="n">this</span> <span class="n">will</span> <span class="n">likely</span> <span class="n">reduce</span> <span class="n">potential</span> <span class="n">performance</span><span class="o">.</span>
<span class="n">Kokkos</span><span class="p">::</span><span class="n">Cuda</span><span class="p">::</span><span class="n">initialize</span> <span class="n">WARNING</span><span class="p">:</span> <span class="n">running</span> <span class="n">kernels</span> <span class="n">compiled</span> <span class="k">for</span> <span class="n">compute</span> <span class="n">capability</span> <span class="mf">6.0</span> <span class="n">on</span> <span class="n">device</span> <span class="k">with</span> <span class="n">compute</span> <span class="n">capability</span> <span class="mf">6.1</span> <span class="p">,</span> <span class="n">this</span> <span class="n">will</span> <span class="n">likely</span> <span class="n">reduce</span> <span class="n">potential</span> <span class="n">performance</span><span class="o">.</span>
<span class="n">Lattice</span> <span class="n">spacing</span> <span class="ow">in</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="mf">1.6795962</span> <span class="mf">1.6795962</span> <span class="mf">1.6795962</span>
<span class="n">Created</span> <span class="n">orthogonal</span> <span class="n">box</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span> <span class="n">to</span> <span class="p">(</span><span class="mf">268.73539</span> <span class="mf">134.3677</span> <span class="mf">268.73539</span><span class="p">)</span>
  <span class="mi">1</span> <span class="n">by</span> <span class="mi">1</span> <span class="n">by</span> <span class="mi">3</span> <span class="n">MPI</span> <span class="n">processor</span> <span class="n">grid</span>
<span class="n">Created</span> <span class="mi">8192000</span> <span class="n">atoms</span>
  <span class="n">using</span> <span class="n">lattice</span> <span class="n">units</span> <span class="ow">in</span> <span class="n">orthogonal</span> <span class="n">box</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span> <span class="n">to</span> <span class="p">(</span><span class="mf">268.73539</span> <span class="mf">134.3677</span> <span class="mf">268.73539</span><span class="p">)</span>
  <span class="n">create_atoms</span> <span class="n">CPU</span> <span class="o">=</span> <span class="mf">0.964</span> <span class="n">seconds</span>
<span class="n">Generated</span> <span class="mi">0</span> <span class="n">of</span> <span class="mi">0</span> <span class="n">mixed</span> <span class="n">pair_coeff</span> <span class="n">terms</span> <span class="kn">from</span> <span class="nn">geometric</span> <span class="n">mixing</span> <span class="n">rule</span>
<span class="n">Neighbor</span> <span class="nb">list</span> <span class="n">info</span> <span class="o">...</span>
  <span class="n">update</span><span class="p">:</span> <span class="n">every</span> <span class="o">=</span> <span class="mi">20</span> <span class="n">steps</span><span class="p">,</span> <span class="n">delay</span> <span class="o">=</span> <span class="mi">0</span> <span class="n">steps</span><span class="p">,</span> <span class="n">check</span> <span class="o">=</span> <span class="n">no</span>
  <span class="nb">max</span> <span class="n">neighbors</span><span class="o">/</span><span class="n">atom</span><span class="p">:</span> <span class="mi">2000</span><span class="p">,</span> <span class="n">page</span> <span class="n">size</span><span class="p">:</span> <span class="mi">100000</span>
  <span class="n">master</span> <span class="nb">list</span> <span class="n">distance</span> <span class="n">cutoff</span> <span class="o">=</span> <span class="mf">2.8</span>
  <span class="n">ghost</span> <span class="n">atom</span> <span class="n">cutoff</span> <span class="o">=</span> <span class="mf">2.8</span>
  <span class="n">binsize</span> <span class="o">=</span> <span class="mf">2.8</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="mi">96</span> <span class="mi">48</span> <span class="mi">96</span>
  <span class="mi">1</span> <span class="n">neighbor</span> <span class="n">lists</span><span class="p">,</span> <span class="n">perpetual</span><span class="o">/</span><span class="n">occasional</span><span class="o">/</span><span class="n">extra</span> <span class="o">=</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span>
  <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">pair</span> <span class="n">lj</span><span class="o">/</span><span class="n">cut</span><span class="o">/</span><span class="n">kk</span><span class="p">,</span> <span class="n">perpetual</span>
          <span class="n">attributes</span><span class="p">:</span> <span class="n">full</span><span class="p">,</span> <span class="n">newton</span> <span class="n">off</span><span class="p">,</span> <span class="n">kokkos_device</span>
          <span class="n">pair</span> <span class="n">build</span><span class="p">:</span> <span class="n">full</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">kk</span><span class="o">/</span><span class="n">device</span>
          <span class="n">stencil</span><span class="p">:</span> <span class="n">full</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="mi">3</span><span class="n">d</span>
          <span class="nb">bin</span><span class="p">:</span> <span class="n">kk</span><span class="o">/</span><span class="n">device</span>
<span class="n">Setting</span> <span class="n">up</span> <span class="n">Verlet</span> <span class="n">run</span> <span class="o">...</span>
  <span class="n">Unit</span> <span class="n">style</span>    <span class="p">:</span> <span class="n">lj</span>
  <span class="n">Current</span> <span class="n">step</span>  <span class="p">:</span> <span class="mi">0</span>
  <span class="n">Time</span> <span class="n">step</span>     <span class="p">:</span> <span class="mf">0.005</span>
<span class="n">Per</span> <span class="n">MPI</span> <span class="n">rank</span> <span class="n">memory</span> <span class="n">allocation</span> <span class="p">(</span><span class="nb">min</span><span class="o">/</span><span class="n">avg</span><span class="o">/</span><span class="nb">max</span><span class="p">)</span> <span class="o">=</span> <span class="mf">417.8</span> <span class="o">|</span> <span class="mf">419.8</span> <span class="o">|</span> <span class="mi">423</span> <span class="n">Mbytes</span>
   <span class="n">Step</span>          <span class="n">Temp</span>          <span class="n">E_pair</span>         <span class="n">E_mol</span>          <span class="n">TotEng</span>         <span class="n">Press</span>
                 <span class="mi">0</span>   <span class="mf">1.44</span>          <span class="o">-</span><span class="mf">6.7733681</span>      <span class="mi">0</span>             <span class="o">-</span><span class="mf">4.6133683</span>     <span class="o">-</span><span class="mf">5.0196694</span>
           <span class="mi">100</span>   <span class="mf">0.75927734</span>    <span class="o">-</span><span class="mf">5.761232</span>       <span class="mi">0</span>             <span class="o">-</span><span class="mf">4.6223161</span>      <span class="mf">0.19102612</span>
<span class="n">Loop</span> <span class="n">time</span> <span class="n">of</span> <span class="mf">3.78732</span> <span class="n">on</span> <span class="mi">3</span> <span class="n">procs</span> <span class="k">for</span> <span class="mi">100</span> <span class="n">steps</span> <span class="k">with</span> <span class="mi">8192000</span> <span class="n">atoms</span>

<span class="n">Performance</span><span class="p">:</span> <span class="mf">11406.477</span> <span class="n">tau</span><span class="o">/</span><span class="n">day</span><span class="p">,</span> <span class="mf">26.404</span> <span class="n">timesteps</span><span class="o">/</span><span class="n">s</span><span class="p">,</span> <span class="mf">216.301</span> <span class="n">Matom</span><span class="o">-</span><span class="n">step</span><span class="o">/</span><span class="n">s</span>
<span class="mf">64.0</span><span class="o">%</span> <span class="n">CPU</span> <span class="n">use</span> <span class="k">with</span> <span class="mi">3</span> <span class="n">MPI</span> <span class="n">tasks</span> <span class="n">x</span> <span class="mi">1</span> <span class="n">OpenMP</span> <span class="n">threads</span>

<span class="n">MPI</span> <span class="n">task</span> <span class="n">timing</span> <span class="n">breakdown</span><span class="p">:</span>
<span class="n">Section</span> <span class="o">|</span>  <span class="nb">min</span> <span class="n">time</span>  <span class="o">|</span>  <span class="n">avg</span> <span class="n">time</span>  <span class="o">|</span>  <span class="nb">max</span> <span class="n">time</span>  <span class="o">|%</span><span class="n">varavg</span><span class="o">|</span> <span class="o">%</span><span class="n">total</span>
<span class="o">---------------------------------------------------------------</span>
<span class="n">Pair</span>    <span class="o">|</span> <span class="mf">0.054429</span>   <span class="o">|</span> <span class="mf">0.054921</span>   <span class="o">|</span> <span class="mf">0.055782</span>   <span class="o">|</span>   <span class="mf">0.3</span> <span class="o">|</span>  <span class="mf">1.45</span>
<span class="n">Neigh</span>   <span class="o">|</span> <span class="mf">0.57971</span>    <span class="o">|</span> <span class="mf">0.60578</span>    <span class="o">|</span> <span class="mf">0.63878</span>    <span class="o">|</span>   <span class="mf">3.2</span> <span class="o">|</span> <span class="mf">16.00</span>
<span class="n">Comm</span>    <span class="o">|</span> <span class="mf">0.51117</span>    <span class="o">|</span> <span class="mf">0.53519</span>    <span class="o">|</span> <span class="mf">0.55821</span>    <span class="o">|</span>   <span class="mf">2.6</span> <span class="o">|</span> <span class="mf">14.13</span>
<span class="n">Output</span>  <span class="o">|</span> <span class="mf">0.00041937</span> <span class="o">|</span> <span class="mf">0.00451</span>    <span class="o">|</span> <span class="mf">0.0078808</span>  <span class="o">|</span>   <span class="mf">4.6</span> <span class="o">|</span>  <span class="mf">0.12</span>
<span class="n">Modify</span>  <span class="o">|</span> <span class="mf">2.5216</span>     <span class="o">|</span> <span class="mf">2.5246</span>     <span class="o">|</span> <span class="mf">2.5287</span>     <span class="o">|</span>   <span class="mf">0.2</span> <span class="o">|</span> <span class="mf">66.66</span>
<span class="n">Other</span>   <span class="o">|</span>            <span class="o">|</span> <span class="mf">0.06236</span>    <span class="o">|</span>            <span class="o">|</span>       <span class="o">|</span>  <span class="mf">1.65</span>

<span class="n">Nlocal</span><span class="p">:</span>    <span class="mf">2.73067e+06</span> <span class="n">ave</span> <span class="mf">2.73706e+06</span> <span class="nb">max</span>  <span class="mf">2.7274e+06</span> <span class="nb">min</span>
<span class="n">Histogram</span><span class="p">:</span> <span class="mi">2</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span>
<span class="n">Nghost</span><span class="p">:</span>         <span class="mi">361536</span> <span class="n">ave</span>      <span class="mi">368174</span> <span class="nb">max</span>      <span class="mi">348360</span> <span class="nb">min</span>
<span class="n">Histogram</span><span class="p">:</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">2</span>
<span class="n">Neighs</span><span class="p">:</span>              <span class="mi">0</span> <span class="n">ave</span>           <span class="mi">0</span> <span class="nb">max</span>           <span class="mi">0</span> <span class="nb">min</span>
<span class="n">Histogram</span><span class="p">:</span> <span class="mi">3</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="n">FullNghs</span><span class="p">:</span>  <span class="mf">2.05098e+08</span> <span class="n">ave</span> <span class="mf">2.05575e+08</span> <span class="nb">max</span> <span class="mf">2.04853e+08</span> <span class="nb">min</span>
<span class="n">Histogram</span><span class="p">:</span> <span class="mi">2</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span>

<span class="n">Total</span> <span class="c1"># of neighbors = 6.1529347e+08</span>
<span class="n">Ave</span> <span class="n">neighs</span><span class="o">/</span><span class="n">atom</span> <span class="o">=</span> <span class="mf">75.109066</span>
<span class="n">Neighbor</span> <span class="nb">list</span> <span class="n">builds</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">Dangerous</span> <span class="n">builds</span> <span class="ow">not</span> <span class="n">checked</span>
<span class="n">Total</span> <span class="n">wall</span> <span class="n">time</span><span class="p">:</span> <span class="mi">0</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">08</span>
</pre></div>
</div>
</section>
<section id="executing-lammps-from-a-batch-job">
<h2>Executing LAMMPS from a batch job<a class="headerlink" href="#executing-lammps-from-a-batch-job" title="Permalink to this headline">¶</a></h2>
<p>We can use all that we learn above to convert the execution into a submission script
Write a submission script that we will call here <cite>runjob.slurm</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
</pre></div>
</div>
<p>#SBATCH –job-name=LAMMPS
#SBATCH -p comm_gpu_inter
#SBATCH -G 3
#SBATCH -t 2:00:00
#SBATCH -c 24</p>
<p>module purge
module load singularity</p>
<p>cd $SLURM_SUBMIT_DIR
pwd
singularity exec –nv /shared/containers/NGC_LAMMPS_patch_3Nov2022.sif ./run_lammps.sh</p>
<p>We need also another file that will set the variables and run LAMMPS inside the container::
The file is called <cite>run_lammps.sh</cite> and the content is this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#!/bin/bash

export OMP_NUM_THREADS=8
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lammps/sm60/lib

mpirun -n 3 /usr/local/lammps/sm60/bin/lmp  -k on g 3 -sf kk -pk kokkos cuda/aware on neigh full comm device binsize 2.8 -var x 8 -var y 4 -var z 8 -in in.lj.txt
</pre></div>
</div>
<p>We need to make this file executable using the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$&gt; chmod +x run_lammps.sh
</pre></div>
</div>
<p>Now we can submit the job and wait for the result.
Submit the job with the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$&gt; sbatch runjob.slurm
</pre></div>
</div>
<p>We will get two files <cite>log.lammps</cite> that is the traditional log from LAMMPS and a file that looks like <cite>slurm-194660.out</cite>.
The output from LAMMPS that instead of being shown on the screen is stored on a file with the corresponding JobID</p>
<p>The file looks similar to the output from our interactive execution:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>tcogq003:~/scratch/LAMMPS$ cat slurm-194660.out
Removing gcc version 9.3.0 : lang/gcc/9.3.0
Removing git version 2.29.1 : dev/git/2.29.1
/gpfs20/scratch/gufranco/LAMMPS
LAMMPS (3 Nov 2022)
KOKKOS mode is enabled (src/KOKKOS/kokkos.cpp:106)
  will use up to 3 GPU(s) per node
Kokkos::Cuda::initialize WARNING: running kernels compiled for compute capability 6.0 on device with compute capability 6.1 , this will likely reduce potential performance.
Kokkos::Cuda::initialize WARNING: running kernels compiled for compute capability 6.0 on device with compute capability 6.1 , this will likely reduce potential performance.
Kokkos::Cuda::initialize WARNING: running kernels compiled for compute capability 6.0 on device with compute capability 6.1 , this will likely reduce potential performance.
Kokkos::Cuda::initialize WARNING: running kernels compiled for compute capability 6.0 on device with compute capability 6.1 , this will likely reduce potential performance.
Kokkos::Cuda::initialize WARNING: running kernels compiled for compute capability 6.0 on device with compute capability 6.1 , this will likely reduce potential performance.
Kokkos::Cuda::initialize WARNING: running kernels compiled for compute capability 6.0 on device with compute capability 6.1 , this will likely reduce potential performance.
  using 1 OpenMP thread(s) per MPI task
Lattice spacing in x,y,z = 1.6795962 1.6795962 1.6795962
Created orthogonal box = (0 0 0) to (268.73539 134.3677 268.73539)
  1 by 1 by 3 MPI processor grid
Created 8192000 atoms
  using lattice units in orthogonal box = (0 0 0) to (268.73539 134.3677 268.73539)
  create_atoms CPU = 0.963 seconds
Generated 0 of 0 mixed pair_coeff terms from geometric mixing rule
Neighbor list info ...
  update: every = 20 steps, delay = 0 steps, check = no
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 2.8
  ghost atom cutoff = 2.8
  binsize = 2.8, bins = 96 48 96
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair lj/cut/kk, perpetual
          attributes: full, newton off, kokkos_device
          pair build: full/bin/kk/device
          stencil: full/bin/3d
          bin: kk/device
Setting up Verlet run ...
  Unit style    : lj
  Current step  : 0
  Time step     : 0.005
Per MPI rank memory allocation (min/avg/max) = 417.8 | 419.8 | 423 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press
                 0   1.44          -6.7733681      0             -4.6133683     -5.0196694
           100   0.75927734    -5.761232       0             -4.6223161      0.19102612
Loop time of 3.78997 on 3 procs for 100 steps with 8192000 atoms

Performance: 11398.509 tau/day, 26.385 timesteps/s, 216.149 Matom-step/s
63.1% CPU use with 3 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.054214   | 0.054977   | 0.056248   |   0.4 |  1.45
Neigh   | 0.57713    | 0.60327    | 0.63866    |   3.3 | 15.92
Comm    | 0.50607    | 0.54467    | 0.57153    |   3.8 | 14.37
Output  | 0.00047028 | 0.012894   | 0.03579    |  14.3 |  0.34
Modify  | 2.5112     | 2.5169     | 2.5282     |   0.5 | 66.41
Other   |            | 0.05729    |            |       |  1.51

Nlocal:    2.73067e+06 ave 2.73706e+06 max  2.7274e+06 min
Histogram: 2 0 0 0 0 0 0 0 0 1
Nghost:         361536 ave      368174 max      348360 min
Histogram: 1 0 0 0 0 0 0 0 0 2
Neighs:              0 ave           0 max           0 min
Histogram: 3 0 0 0 0 0 0 0 0 0
FullNghs:  2.05098e+08 ave 2.05575e+08 max 2.04853e+08 min
Histogram: 2 0 0 0 0 0 0 0 0 1

Total # of neighbors = 6.1529347e+08
Ave neighs/atom = 75.109066
Neighbor list builds = 5
Dangerous builds not checked
Total wall time: 0:00:08
</pre></div>
</div>
</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="705.bowtie2.html" class="btn btn-neutral float-right" title="Bioinformatics: Using Bowtie2" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="703.OpenFoam.html" class="btn btn-neutral float-left" title="Engineering: OpenFOAM 10" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2023, West Virginia University

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>