

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Connect to the cluster &mdash; WVU-RC 2022.11 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Command Line Interface" href="23.CommandLine.html" />
    <link rel="prev" title="Getting Access" href="21.GettingAccess.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> WVU-RC
          

          
            
            <img src="../_static/ResearchComputing.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2022.11
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="10.Introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="20.QuickStart.html">Quick Start</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="21.GettingAccess.html">Getting Access</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Connect to the cluster</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#get-an-ssh-client">Get an SSH Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="#connecting-to-wvu-s-clusters-via-ssh">Connecting to WVU’s Clusters via SSH</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#general-ssh-connection-instructions">General SSH Connection Instructions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#spruce-knob-connectivity-instructions">Spruce Knob Connectivity Instructions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#thorny-flat-connectivity-instructions">Thorny Flat Connectivity Instructions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#logging-in">Logging In</a></li>
<li class="toctree-l3"><a class="reference internal" href="#logging-out">Logging Out</a></li>
<li class="toctree-l3"><a class="reference internal" href="#putty-example">Putty Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="23.CommandLine.html">Command Line Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="24.EditFiles.html">Editing Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="25.UseStorage.html">Understanding Cluster Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="26.UseModules.html">Using Environment Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="27.CompileCode.html">Compile Source Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="28.SubmitJobs.html">Job Submission</a></li>
<li class="toctree-l2"><a class="reference internal" href="29.TransferFiles.html">Transferring Files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="30.BasicUser.html">For Basic Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="40.AdvancedUser.html">For Advanced Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="500.ScientificProgramming.html">Scientific Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="600.SoftAdmin.html">Software Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="70.DomainSpecific.html">Domain Specific Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="80.ClusterSpecific.html">Clusters Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="90.References.html">References</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">WVU-RC</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="20.QuickStart.html">Quick Start</a> &raquo;</li>
        
      <li>Connect to the cluster</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/text/22.Connect.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="connect-to-the-cluster">
<span id="qs-connect"></span><h1>Connect to the cluster<a class="headerlink" href="#connect-to-the-cluster" title="Permalink to this headline">¶</a></h1>
<p>An HPC cluster is a big computing infrastructure intended for concurrent usage by many users. A desktop, laptop or even workstations are intended for a single user at a time. In general, Graphical User Interfaces (GUI) consume an important amount of resources even when the user is not making use of them, that is one of the reasons why is common practice in HPC clusters to only allow remote shell access and limited capabilities for GUI applications.</p>
<p>Due to security reasons, HPC clusters are intended to be accessed using a secure shell, the standard secure shell nowadays is called SSH. Secure Shell (SSH) is a cryptographic network protocol for operating network services securely over an unsecured network such as the internet. The typical application of SSH in HPC is to provide remote command-line login and remote command execution.</p>
<p>In order to connect to any of our clusters, you need a <em>username</em>, your name as a user of the cluster.
You should have obtained that <em>username</em> with your <em>WVU Login account</em></p>
<p>WVU’s clusters are also open to users who are currently associated with another Higher Education Institution in the state of West Virginia.  These users will still need a WVU Login account for access.  If you are working with someone (i.e. a PI) at WVU and need access, please have that person complete the form located <a class="reference external" href="login.wvu.edu/sponsored">here</a>.  If you are not working with anyone at WVU, please send an email <a class="reference external" href="mailto:helpdesk&#37;&#52;&#48;hpc&#46;wvu&#46;edu">helpdesk<span>&#64;</span>hpc<span>&#46;</span>wvu<span>&#46;</span>edu</a>
For this request to work the requestor must be on the campus network or using WVU’s VPN.</p>
<p>The next step is to use an SSH client to connect to one of our clusters.</p>
<section id="get-an-ssh-client">
<h2>Get an SSH Client<a class="headerlink" href="#get-an-ssh-client" title="Permalink to this headline">¶</a></h2>
<p>An SSH Client is a piece of software that allows you to run a remote session on a computer, over a network using a secure connection based on the SSH protocol.</p>
<p>An SSH client is usually come installed on MacOS and most Unix/Linux distributions so if you are using one of those Operating Systems you do not need to install anything.</p>
<p>Windows users will have to acquire an SSH client.
PuTTY is a free implementation of SSH for Windows platforms, it comes along with an xterm terminal emulator.</p>
<p>Go to <a class="reference external" href="https://www.chiark.greenend.org.uk/~sgtatham/putty/">PuTTy</a> to know more about the product or download it directly from <a class="reference external" href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html">PuTTY Download</a>.</p>
<p>PuTTY is not the only SSH client available for Windows. See for example <a class="reference external" href="https://en.wikipedia.org/wiki/Comparison_of_SSH_clients">Comparison of SSH clients</a> for several alternatives.</p>
</section>
<section id="connecting-to-wvu-s-clusters-via-ssh">
<h2>Connecting to WVU’s Clusters via SSH<a class="headerlink" href="#connecting-to-wvu-s-clusters-via-ssh" title="Permalink to this headline">¶</a></h2>
<p>Currently, WVU has two clusters available for access.  Depending on which cluster you are using, the instructions for connecting slightly differ.</p>
<section id="general-ssh-connection-instructions">
<h3>General SSH Connection Instructions<a class="headerlink" href="#general-ssh-connection-instructions" title="Permalink to this headline">¶</a></h3>
<p>On MacOS and Unix/Linux, open a terminal shell and type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$&gt; ssh &lt;username&gt;@&lt;hostname&gt;
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$&gt; ssh -X &lt;username&gt;@&lt;hostname&gt;
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">&lt;username&gt;</span></code> is your <em>WVU Login account</em> username and <code class="docutils literal notranslate"><span class="pre">&lt;hostname&gt;</span></code> is the name of the cluster you wish to connect to.
The -X option is used to forward X windows applications running on the server to be forwarded to your local machine.
Remember that the <code class="docutils literal notranslate"><span class="pre">$&gt;</span></code> symbols above are there to indicate a command on the terminal, you should not enter those initial characters.</p>
<p>We currently have two clusters <em>Thorny Flat and *Spruce Knob</em> the hostnames are:</p>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">WVU’s High-Performance Computer (HPC) Clusters</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 50%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Cluster</p></th>
<th class="head"><p>Hostname</p></th>
<th class="head"><p>Status</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Spruce Knob</strong></p></td>
<td><p><em>spruce.hpc.wvu.edu</em></p></td>
<td><p>Operational</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Thorny Flat</strong></p></td>
<td><p><em>tf.hpc.wvu.edu</em></p></td>
<td><p>Operational</p></td>
</tr>
</tbody>
</table>
</section>
<section id="spruce-knob-connectivity-instructions">
<h3>Spruce Knob Connectivity Instructions<a class="headerlink" href="#spruce-knob-connectivity-instructions" title="Permalink to this headline">¶</a></h3>
<p>To connect to Spruce Knob use the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ssh &lt;username&gt;@spruce.hpc.wvu.edu
</pre></div>
</div>
<p><strong>Note:</strong> Two-factor authentication is required to connect to Spruce Knob when not on WVU’s Main Campus Network.  More about WVU’s Two-Factor Authentication system can be found <a class="reference external" href="https://wvu.atlassian.net/servicedesk/customer/portal/5/article/298680370?src=-407137167">here</a></p>
</section>
<section id="thorny-flat-connectivity-instructions">
<h3>Thorny Flat Connectivity Instructions<a class="headerlink" href="#thorny-flat-connectivity-instructions" title="Permalink to this headline">¶</a></h3>
<p>To connect to Thorny Flat, you will first have to connect to WVU’s SSH gateway server.  This gateway server will allow you to connect the Thorny Flat, which is hosted at the Pittsburgh Supercomputing Center.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ssh &lt;username&gt;@ssh.wvu.edu
</pre></div>
</div>
<p>More information on WVU’s Gateway Service can be found <a class="reference external" href="https://wvu.atlassian.net/servicedesk/customer/portal/5/article/301760886?src=-1814658256">here</a>.  When your account is created to for Thorny Flat, you will automatically be approved for access to WVU’s SSH Gateway Service.</p>
<p><strong>Note:</strong> Two-factor authentication is required to connect to WVU’s Gateway Service.  More about WVU’s Two-Factor Authentication system can be found <a class="reference external" href="https://wvu.atlassian.net/servicedesk/customer/portal/5/article/298680370?src=-407137167">here</a>.</p>
<p>then:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ssh tf.hpc.wvu.edu
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>You cannot connect directly to Thorny Flat via SSH.</strong> Executing directly from your terminal or ssh client <code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">tf.hpc.wvu.edu</span></code> will always fail.</p>
</div>
</section>
</section>
<section id="logging-in">
<h2>Logging In<a class="headerlink" href="#logging-in" title="Permalink to this headline">¶</a></h2>
<p>When your SSH access is granted, you will be prompted with a login message
with helpful commands and updates about the cluster.</p>
<p>At this point, you will get a terminal prompt such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;username&gt;@srih0001:~$
</pre></div>
</div>
<p>All the commands executed from now on are happening on a remote machine, the Spruce Knob <em>head node</em>, this is the place were most of your direct interaction with the cluster happens.</p>
</section>
<section id="logging-out">
<h2>Logging Out<a class="headerlink" href="#logging-out" title="Permalink to this headline">¶</a></h2>
<p>Logging out of a cluster can be done with the exit command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$&gt; exit
</pre></div>
</div>
<p>The exit command will attempt to terminate any process running on the head.
In some cases, you will get an error that jobs are either currently running or currently stopped.  You can view stopped jobs using the jobs command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$&gt; jobs -l
[1]+ 3325 Stopped            vim script56.py
</pre></div>
</div>
<p>The output of jobs -l will give you the job PID number (in this case 3325) and
the command (vim script56.py).  To kill jobs preventing successful log out,
use the kill command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$&gt; kill -s 9 3325
</pre></div>
</div>
<p>Once all jobs are terminated, the exit command will close the connection to the host.
On section <a class="reference internal" href="28.SubmitJobs.html#qs-job-submission"><span class="std std-ref">Job Submission</span></a> we will explain how to submit jobs on the queue system. Jobs on the queue system are not killed when you log out of the head node.</p>
</section>
<section id="putty-example">
<h2>Putty Example<a class="headerlink" href="#putty-example" title="Permalink to this headline">¶</a></h2>
<p>If you are using Windows and PuTTy, click on PuTTy Icon and enter the hostname</p>
<img alt="../_images/puttystartup.png" src="../_images/puttystartup.png" />
<p>If you want to get X11 forwarding, ie remote windows popping on your local machine, enable X11 forwarding as shown below.</p>
<img alt="../_images/putty_xforward.png" src="../_images/putty_xforward.png" />
</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="23.CommandLine.html" class="btn btn-neutral float-right" title="Command Line Interface" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="21.GettingAccess.html" class="btn btn-neutral float-left" title="Getting Access" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2022, West Virginia University

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>